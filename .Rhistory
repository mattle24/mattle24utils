,axis.ticks = element_blank()
,legend.position = 'bottom'
,...
)
}
ggplot(mtcars, aes(x = wt, y = mpg)) +
geom_point() +
theme_mattle24()
#' Mattle24 Theme
#'
#' This is my custom ggplot2 theme.
#'
#' @param ... Passes on adiditional arguments to theme()
#' @export
theme_mattle24 <- function (...) {
theme(
panel.background = element_rect(fill = 'white')
,panel.border = element_rect(color = 'gray70', fill = NA)
,text = element_text(family = 'Dubai')
,plot.title = element_text(hjust = 0.5, size = 18)
,plot.subtitle = element_text(hjust = 0.5, size = 12, colour = 'gray54')
,axis.title = element_text(size = 14)
,axis.text = element_text(size = 10)
,axis.ticks = element_blank()
,legend.position = 'bottom'
,...
)
}
ggplot(mtcars, aes(x = wt, y = mpg)) +
geom_point() +
theme_mattle24()
#' Mattle24 Theme
#'
#' This is my custom ggplot2 theme.
#'
#' @param ... Passes on adiditional arguments to theme()
#' @export
theme_mattle24 <- function (...) {
theme(
panel.background = element_rect(fill = 'white')
,panel.border = element_rect(color = 'gray70', fill = NA)
,text = element_text(family = 'Dubai')
,plot.title = element_text(hjust = 0.5, size = 18)
,plot.subtitle = element_text(hjust = 0.5, size = 12, colour = 'gray54')
,axis.title = element_text(size = 14)
,axis.text = element_text(size = 10)
,axis.ticks = element_blank()
,legend.position = 'bottom'
,...
)
}
#' Mattle24 Theme
#'
#' This is my custom ggplot2 theme.
#'
#' @param ... Passes on adiditional arguments to theme()
#' @export
theme_mattle24 <- function (...) {
theme(
panel.background = element_rect(fill = 'white')
,panel.border = element_rect(color = 'gray70', fill = NA)
,text = element_text(family = 'Dubai')
,plot.title = element_text(hjust = 0.5, size = 18)
,plot.subtitle = element_text(hjust = 0.5, size = 12, colour = 'gray54')
,axis.title = element_text(size = 14)
,axis.text = element_text(size = 10)
,axis.ticks = element_blank()
,legend.position = 'bottom'
,...
)
}
#' Mattle24 Theme
#'
#' This is my custom ggplot2 theme.
#'
#' @param ... Passes on adiditional arguments to theme()
#' @export
theme_mattle24 <- function (...) {
theme(
panel.background = element_rect(fill = 'white')
,panel.border = element_rect(color = 'gray70', fill = NA)
,panel.grid = element_line(color = 'gray70')
,text = element_text(family = 'Dubai')
,plot.title = element_text(hjust = 0.5, size = 18)
,plot.subtitle = element_text(hjust = 0.5, size = 12, colour = 'gray54')
,axis.title = element_text(size = 14)
,axis.text = element_text(size = 10)
,axis.ticks = element_blank()
,legend.position = 'bottom'
,...
)
}
ggplot(mtcars, aes(x = wt, y = mpg)) +
geom_point() +
theme_mattle24()
#' Mattle24 Theme
#'
#' This is my custom ggplot2 theme.
#'
#' @param ... Passes on adiditional arguments to theme()
#' @export
theme_mattle24 <- function (...) {
theme(
panel.background = element_rect(fill = 'white')
,panel.border = element_rect(color = 'gray70', fill = NA)
,panel.grid.major = element_line(color = 'gray70')
,panel.grid.minor = element_blank()
,text = element_text(family = 'Dubai')
,plot.title = element_text(hjust = 0.5, size = 18)
,plot.subtitle = element_text(hjust = 0.5, size = 12, colour = 'gray54')
,axis.title = element_text(size = 14)
,axis.text = element_text(size = 10)
,axis.ticks = element_blank()
,legend.position = 'bottom'
,...
)
}
ggplot(mtcars, aes(x = wt, y = mpg)) +
geom_point() +
theme_mattle24()
theme(
panel.background = element_rect(fill = 'white')
,panel.border = element_rect(color = 'gray70', fill = NA)
,panel.grid.major = element_line(color = 'gray50')
,panel.grid.minor = element_blank()
,text = element_text(family = 'Dubai')
,plot.title = element_text(hjust = 0.5, size = 18)
,plot.subtitle = element_text(hjust = 0.5, size = 12, colour = 'gray54')
,axis.title = element_text(size = 14)
,axis.text = element_text(size = 10)
,axis.ticks = element_blank()
,legend.position = 'bottom'
,...
)
#' Mattle24 Theme
#'
#' This is my custom ggplot2 theme.
#'
#' @param ... Passes on adiditional arguments to theme()
#' @export
theme_mattle24 <- function (...) {
theme(
panel.background = element_rect(fill = 'white')
,panel.border = element_rect(color = 'gray70', fill = NA)
,panel.grid.major = element_line(color = 'gray50')
,panel.grid.minor = element_blank()
,text = element_text(family = 'Dubai')
,plot.title = element_text(hjust = 0.5, size = 18)
,plot.subtitle = element_text(hjust = 0.5, size = 12, colour = 'gray54')
,axis.title = element_text(size = 14)
,axis.text = element_text(size = 10)
,axis.ticks = element_blank()
,legend.position = 'bottom'
,...
)
}
ggplot(mtcars, aes(x = wt, y = mpg)) +
geom_point() +
theme_mattle24()
#' Mattle24 Theme
#'
#' This is my custom ggplot2 theme.
#'
#' @param ... Passes on adiditional arguments to theme()
#' @export
theme_mattle24 <- function (...) {
theme(
panel.background = element_rect(fill = 'white')
,panel.border = element_rect(color = 'gray70', fill = NA)
,panel.grid.major = element_line(color = 'gray90')
,panel.grid.minor = element_blank()
,text = element_text(family = 'Dubai')
,plot.title = element_text(hjust = 0.5, size = 18)
,plot.subtitle = element_text(hjust = 0.5, size = 12, colour = 'gray54')
,axis.title = element_text(size = 14)
,axis.text = element_text(size = 10)
,axis.ticks = element_blank()
,legend.position = 'bottom'
,...
)
}
ggplot(mtcars, aes(x = wt, y = mpg)) +
geom_point() +
theme_mattle24()
#' Mattle24 Theme
#'
#' This is my custom ggplot2 theme.
#'
#' @param ... Passes on adiditional arguments to theme()
#' @export
theme_mattle24 <- function (...) {
theme(
panel.background = element_rect(fill = 'white')
,panel.border = element_rect(color = 'gray70', fill = NA)
,panel.grid.major = element_line(color = 'gray80')
,panel.grid.minor = element_blank()
,text = element_text(family = 'Dubai')
,plot.title = element_text(hjust = 0.5, size = 18)
,plot.subtitle = element_text(hjust = 0.5, size = 12, colour = 'gray54')
,axis.title = element_text(size = 14)
,axis.text = element_text(size = 10)
,axis.ticks = element_blank()
,legend.position = 'bottom'
,...
)
}
ggplot(mtcars, aes(x = wt, y = mpg)) +
geom_point() +
theme_mattle24()
ggplot(mtcars, aes(x = wt, y = mpg)) +
geom_point() +
labs(
title = 'How does weight affect MPG?'
,x = 'Weight'
,y = 'MPG'
) +
theme_mattle24()
setwd('..')
devtools::install('ggmattle24')
install.packages('rlang')
install.packages("rlang")
update.packages()
devtools::install_github("r-lib/rlang")
mtcats
mtcars
library(ggplot2)
library(extrafont)
## Examples
library(ggmattle24)
library(ggplot2)
library(extrafont)
ggplot(mtcars, aes(x = gear, y = wt)) +
geom_col() +
theme_mattle24()
## Examples
library(ggmattle24)
library(ggplot2)
library(extrafont)
ggplot(mtcars, aes(x = gear, y = wt)) +
geom_col() +
theme_mattle24()
ggplot(mtcars, aes(x = gear, y = wt)) +
geom_col() +
labs(
title = 'How does gear affect weight?'
,x = 'Gear'
,y = 'Weight'
) +
theme_mattle24()
getwd()
setwd('ggmatle24')
setwd('ggmattle24')
40 * .4
#'
#' @param labels A vector of labels given by drlib::reorder_within()
#' or something similar.
#' @param sep The seperator to split the labels on. Can only appear once in
#' each label. Default is "_".
#'
#' @example
#'
#'
#' @export
clean_labels_reorder_within <- function(labels, sep = "_") {
purrr::map_chr(y, function(labels) strsplit(labels, '-')[[1]][[1]])
}
library(readr)
library(dplyr)
library(tidyr)
library(ggplot2)
library(tidytext)
library(tm)
library(topicmodels)
library(extrafont)
library(babynames)
library(stringr)
sessionInfo()
medium <- read_csv("https://github.com/rfordatascience/tidytuesday/blob/master/data/2018-12-04/medium_datasci.csv?raw=true")
nrow(medium)
medium %>%
select(tag_ai:tag_machine_learning) %>%
mutate(post_id = row_number()) %>%
gather(key = 'tag', value = 'value', tag_ai:tag_machine_learning) %>%
filter(value != 0) %>%
count(tag) %>%
arrange(n)
# reassign tag names
medium %>%
select(tag_ai:tag_machine_learning) %>%
mutate(post_id = row_number()) %>%
gather(key = 'tag', value = 'value', tag_ai:tag_machine_learning) %>%
mutate(tag = case_when(
tag == 'tag_ai' ~ 'tag_artificial_intelligence'
,TRUE ~ tag
)
) %>%
filter(value != 0) %>%
distinct() %>%
count(tag) %>%
arrange(n)
babynames_lower <- tibble(
name = babynames$name %>% tolower()
)
title_bigram <- medium %>%
select(title, tag_ai:tag_machine_learning) %>%
mutate(post_id = row_number()) %>%
gather(key = 'tag', value = 'value', tag_ai:tag_machine_learning) %>%
mutate(tag = case_when(tag == 'tag_ai' ~ 'tag_artificial_intelligence'
,TRUE ~ tag)
) %>%
filter(value == 1, !is.na(title)) %>%
distinct() %>%
select(-c(post_id, value)) %>% # process takes **much** longer if don't drop these cols
unnest_tokens(bigram, title, token = "ngrams", n = 2, to_lower = T) %>%
filter(
!grepl("[[:digit:]]", bigram)
,!grepl("data", bigram)
) %>%
separate(bigram, sep = " ", into = c('word_1', 'word_2')) %>%
anti_join(stop_words, by = c('word_1' = 'word')) %>%
anti_join(stop_words, by = c('word_2' = 'word')) %>%
anti_join(babynames_lower, by = c('word_1' = 'name')) %>%
anti_join(babynames_lower, by = c('word_2' = 'name')) %>%
unite(col = bigram, word_1:word_2, sep = " ") %>%
identity()
# bigram document term matrix
title_bigram_dtm <- title_bigram %>%
count(tag, bigram, sort = TRUE) %>%
cast_dtm(tag, bigram, n)
title_bigram_dtm_sparse <- removeSparseTerms(title_bigram_dtm, sparse = 0.85)
dim(title_bigram_dtm)
dim(title_bigram_dtm_sparse)
# lets look at 10 topics
lda_bigram <- LDA(title_bigram_dtm_sparse, k = 10,
control = list(seed = 1234, iter = 1000,
verbose = F)
,method = 'Gibbs')
set.seed(1)
top_terms_topic <- tidy(lda_bigram, matrix = 'beta') %>%
group_by(topic) %>%
arrange(desc(beta), runif(n())) %>% # top 10 terms, break ties randomly
slice(1:10)
ggplot(top_terms_topic, aes(x = drlib::reorder_within(term, beta, topic, sep = '-'), y = beta, group = topic)) +
geom_col(fill = "#00C5Cd") +
coord_flip() +
facet_wrap(~topic, scales = 'free') +
labs(
x = NULL
,y = 'Relative Probabiliy Bigram is in Topic'
,title = "Topics in Medium's Data Science Posts"
) +
ggmattle24::theme_mattle24() +
scale_x_discrete(labels = function(y) purrr::map_chr(y, function(x) strsplit(x, '-')[[1]][[1]])) +
NULL
gamma <- tidy(lda_bigram, matrix = "gamma") %>%
mutate(Topic = factor(topic, ordered = TRUE)
,document = str_replace_all(str_replace(document, 'tag', ''), '_', ' ') %>% trimws)
ggplot(gamma, aes(x = reorder(document, desc(document)), y = gamma, group = document)) +
geom_col(aes(fill = Topic)) +
coord_flip() +
labs(
title = "Topic Composition of Medium Tags"
,x = "Post Tag"
,y = "Percent Composition"
) +
scale_y_continuous(labels = scales::percent) +
scale_fill_discrete(c = 100) +
ggmattle24::theme_mattle24() +
NULL
#'
#' @param labels A vector of labels given by drlib::reorder_within()
#' or something similar.
#' @param sep The seperator to split the labels on. Can only appear once in
#' each label. Default is "_".
#'
#' @example
#'
#'
#' @export
clean_labels_reorder_within <- function(labels, sep = "_") {
purrr::map_chr(labels, function(labels) strsplit(labels, sep)[[1]][[1]])
}
ggplot(top_terms_topic, aes(x = drlib::reorder_within(term, beta, topic, sep = '-'), y = beta, group = topic)) +
geom_col(fill = "#00C5Cd") +
coord_flip() +
facet_wrap(~topic, scales = 'free') +
labs(
x = NULL
,y = 'Relative Probabiliy Bigram is in Topic'
,title = "Topics in Medium's Data Science Posts"
) +
ggmattle24::theme_mattle24() +
scale_x_discrete(labels = clean_labels_reorder_within) +
NULL
ggplot(top_terms_topic, aes(x = drlib::reorder_within(term, beta, topic, sep = '-'), y = beta, group = topic)) +
geom_col(fill = "#00C5Cd") +
coord_flip() +
facet_wrap(~topic, scales = 'free') +
labs(
x = NULL
,y = 'Relative Probabiliy Bigram is in Topic'
,title = "Topics in Medium's Data Science Posts"
) +
ggmattle24::theme_mattle24() +
scale_x_discrete(labels = function(x) clean_labels_reorder_within(x)) +
NULL
ggplot(top_terms_topic, aes(x = drlib::reorder_within(term, beta, topic, sep = '_'), y = beta, group = topic)) +
geom_col(fill = "#00C5Cd") +
coord_flip() +
facet_wrap(~topic, scales = 'free') +
labs(
x = NULL
,y = 'Relative Probabiliy Bigram is in Topic'
,title = "Topics in Medium's Data Science Posts"
) +
ggmattle24::theme_mattle24() +
scale_x_discrete(labels = function(x) clean_labels_reorder_within(x)) +
NULL
ggplot(top_terms_topic, aes(x = drlib::reorder_within(term, beta, topic, sep = '_'), y = beta, group = topic)) +
geom_col(fill = "#00C5Cd") +
coord_flip() +
facet_wrap(~topic, scales = 'free') +
labs(
x = NULL
,y = 'Relative Probabiliy Bigram is in Topic'
,title = "Topics in Medium's Data Science Posts"
) +
ggmattle24::theme_mattle24() +
scale_x_discrete(labels = clean_labels_reorder_within) +
NULL
#'
#' @param labels A vector of labels given by drlib::reorder_within()
#' or something similar.
#' @param sep The seperator to split the labels on. Can only appear once in
#' each label. Default is "-_-".
#'
#' @example
#'
#'
#' @export
clean_labels_reorder_within <- function(labels, sep = "-_-") {
purrr::map_chr(labels, function(labels) strsplit(labels, sep)[[1]][[1]])
}
ggplot(top_terms_topic, aes(x = drlib::reorder_within(term, beta, topic, sep = '-_-'), y = beta, group = topic)) +
geom_col(fill = "#00C5Cd") +
coord_flip() +
facet_wrap(~topic, scales = 'free') +
labs(
x = NULL
,y = 'Relative Probabiliy Bigram is in Topic'
,title = "Topics in Medium's Data Science Posts"
) +
ggmattle24::theme_mattle24() +
scale_x_discrete(labels = clean_labels_reorder_within) +
NULL
usethis::use_package('purrr', type = 'Suggests')
requireNamespace('purrr')
requireNamespace('purrr', quietly = T)
requireNamespace('purrr', quietly = F)
requireNamespace('jsjs', quietly = F)
requireNamespace('purrr', quietly = F)
devtools::test()
devtools::check()
devtools::check()
library(devtools)
library(roxygen2)
document()
document()
document()
document()
document()
library(devtools)
document()
library(roxygen2)
document()
document()
library(devtools)
install_github("klutometis/roxygen")
install.packages('processx')
install.packages('commonmark')
install_github("klutometis/roxygen")
devtools::install_github("klutometis/roxygen")
library(roxygen2)
library(devtools)
library(roxygen2)
document()
devtools::install_github()
devtools::install_github("klutometis/roxygen", ref = "6.1.1")
devtools::install_github("https://github.com/klutometis/roxygen/releases/tag/v6.1.1")
devtools::install_github("https://github.com/klutometis/roxygen/releases/tag/v6.1.1", force = T)
library(roxygen2)
library(devtools)
document()
library(roxygen2)
library(devtools)
document()
getwd()
setwd('mm')
setwd('..')
install('ggmattle24')
library(ggmattle24)
setwd('ggmattle24')
document()
library(ggmattle24)
library(ggmattle24)
library(ggmattle24)
document()
library(ggmattle24)
library(ggmattle24)
library(devtools)
library(roxygen2)
?person
